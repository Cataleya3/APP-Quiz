<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alternative Protein Quiz</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 600px; margin: auto; }
        button { background-color: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer; margin-top: 10px; }
        button:hover { background-color: #45a049; }
        .correct { color: green; font-weight: bold; }
        .incorrect { color: red; font-weight: bold; }
        .container { display: none; }
        #next-button { margin-left: 10px; }
    </style>
</head>
<body>
    <h1>Alternative Protein Quiz</h1>
    <p style="color: #1e90ff;">Dette er et quiz laget av Alternative Protein Club ved NTNU.</p>

    <div id="language-selection">
        <p>Select your language:</p>
        <button onclick="setLanguage('no')">Norsk 🇳🇴</button>
        <button onclick="setLanguage('en')">English 🇬🇧</button>
    </div>

    <div id="question-container" class="container">
        <h2 id="question"></h2>
        <ul id="options"></ul>
        <button onclick="checkAnswer()" id="check-button" disabled>Sjekk</button>
        <button onclick="nextQuestion()" id="next-button" style="display: none;">Neste spørsmål</button>
    </div>

    <script>
        const questions = {
            no: [
                {
                    question: "Hvilken av disse proteinkildene regnes ikke som et «komplett protein» fordi den ikke inneholder alle av de ni aminosyrene som er essensielle?",
                    options: ["Soya", "Pistasjenøtter", "Quinoa", "Erter"],
                    answer: 1
                },
                {
                    question: "Hvilken teknologi brukes til å produsere laboratoriekjøtt?",
                    options: ["Genteknologi", "Celledyrking", "Fermentering", "3D-printing"],
                    answer: 1
                },
                {
                    question: "Hvilket av disse begrepene beskriver et kjøttalternativ som er basert på sopp?",
                    options: ["Tofu", "Seitan", "Tempeh", "Mycoprotein"],
                    answer: 3
                }
            ],
            en: [
                {
                    question: "Which of these protein sources is not considered a 'complete protein' because it doesn't contain all nine essential amino acids?",
                    options: ["Soy", "Pistachios", "Quinoa", "Peas"],
                    answer: 1
                },
                {
                    question: "Which technology is used to produce lab-grown meat?",
                    options: ["Genetic engineering", "Cell culture", "Fermentation", "3D printing"],
                    answer: 1
                },
                {
                    question: "Which of these terms describes a meat alternative based on fungi?",
                    options: ["Tofu", "Seitan", "Tempeh", "Mycoprotein"],
                    answer: 3
                }
            ]
        };

        let currentQuestionIndex = 0;
        let score = 0;
        let currentLanguage = 'no';
        let answered = false;

        function setLanguage(language) {
            currentLanguage = language;
            document.getElementById('language-selection').style.display = 'none';
            document.getElementById('question-container').style.display = 'block';
            showQuestion();
        }

        function showQuestion() {
            answered = false;
            const questionData = questions[currentLanguage][currentQuestionIndex];
            document.getElementById('question').textContent = questionData.question;
            const optionsList = document.getElementById('options');
            optionsList.innerHTML = '';
            questionData.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.textContent = option;
                li.onclick = () => selectOption(index);
                li.style.cursor = 'pointer';
                optionsList.appendChild(li);
            });
            document.getElementById('check-button').disabled = true;
            document.getElementById('check-button').style.display = 'inline-block';
            document.getElementById('next-button').style.display = 'none';
        }

        let selectedOption = null;

        function selectOption(index) {
            selectedOption = index;
            const options = document.getElementById('options').children;
            for (let i = 0; i < options.length; i++) {
                options[i].style.backgroundColor = '';
            }
            options[selectedOption].style.backgroundColor = '#ddd';
            document.getElementById('check-button').disabled = false;
        }

        function checkAnswer() {
            if (answered) return;  // Verhindert Mehrfachbewertung
            answered = true;
            const questionData = questions[currentLanguage][currentQuestionIndex];
            const options = document.getElementById('options').children;
            if (selectedOption === questionData.answer) {
                options[selectedOption].classList.add('correct');
                if (currentLanguage === 'no') {
                    alert('Riktig!');
                } else {
                    alert('Correct!');
                }
                score++;
            } else {
                options[selectedOption].classList.add('incorrect');
                options[questionData.answer].classList.add('correct');
                if (currentLanguage === 'no') {
                    alert('Feil! Riktig svar er: ' + questionData.options[questionData.answer]);
                } else {
                    alert('Incorrect! The correct answer is: ' + questionData.options[questionData.answer]);
                }
            }
            document.getElementById('check-button').style.display = 'none';

            // Nur den "Neste" Button anzeigen, wenn noch Fragen übrig sind
            if (currentQuestionIndex < questions[currentLanguage].length - 1) {
                document.getElementById('next-button').style.display = 'inline-block';
            } else {
                showResult();
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            showQuestion();
        }
        
        function showResult() {
            document.getElementById('quiz-content').style.display = 'none';
            const totalQuestions = questions[selectedLanguage].length;
            const resultMessage = selectedLanguage === 'no' 
                ? `Du svarte riktig på ${correctAnswers} av ${totalQuestions} spørsmål. Du er på god vei til å bli en ekspert på alternative proteiner!` 
                : `You answered ${correctAnswers} out of ${totalQuestions} questions correctly. You're well on your way to becoming an expert on alternative proteins!`;
            document.getElementById('result').textContent = resultMessage;
            document.getElementById('question-container').innerHTML += `<p>${currentLanguage === 'no' ? 'Finne ut mer om The Alt Protein Project Norge: ' : 'Find out more about The Alt Protein Project Norge: '}<a href="http://alternativeproteiner.no/">The Alt Protein Project Norge</a></p>`;

        }
        

    </script>
</body>
</html>
